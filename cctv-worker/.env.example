# =============================================================================
# MUIN CCTV 좌석 감지 시스템 환경 설정
# =============================================================================
# 모든 지점 설정은 Supabase stores 테이블에서 관리됩니다.
# 이 파일에는 인증 정보와 공통 설정만 포함됩니다.
# =============================================================================

# -----------------------------------------------------------------------------
# 필수: Supabase 연결 정보
# -----------------------------------------------------------------------------
# Supabase Dashboard → Settings → API에서 확인
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_KEY=your_anon_public_key
SUPABASE_SERVICE_KEY=your_service_role_key

# -----------------------------------------------------------------------------
# 필수: 현재 실행할 지점
# -----------------------------------------------------------------------------
# stores 테이블의 store_id와 일치해야 함 (예: oryudong, gangnam, hongdae)
STORE_ID=oryudong

# -----------------------------------------------------------------------------
# 필수: RTSP 인증 정보 (보안상 env에서만 관리)
# -----------------------------------------------------------------------------
# 모든 지점 NVR이 같은 인증 정보 사용 시:
RTSP_USERNAME=admin
RTSP_PASSWORD=your_nvr_password

# 지점별로 NVR 비밀번호가 다를 경우 (선택):
# ORYUDONG_RTSP_PASSWORD=password1
# GANGNAM_RTSP_PASSWORD=password2

# -----------------------------------------------------------------------------
# 모델 설정 (공통)
# -----------------------------------------------------------------------------
YOLO_MODEL=yolo11n.pt
CONFIDENCE_THRESHOLD=0.3
IOU_THRESHOLD=0.3

# -----------------------------------------------------------------------------
# 처리 설정 (공통)
# -----------------------------------------------------------------------------
SNAPSHOT_INTERVAL=3
MAX_WORKERS=4

# -----------------------------------------------------------------------------
# API 서버 설정
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8001

# -----------------------------------------------------------------------------
# GoSca 연동 (좌석 데이터 가져오기용)
# -----------------------------------------------------------------------------
GOSCA_BASE_URL=https://gosca.co.kr

# -----------------------------------------------------------------------------
# 디버깅 (선택)
# -----------------------------------------------------------------------------
# DEBUG=true
# LOG_LEVEL=DEBUG
# DRY_RUN=true  # DB에 저장하지 않고 로그만 출력

# =============================================================================
# 지점 설정은 stores 테이블에서 관리
# =============================================================================
#
# Supabase SQL Editor에서 지점 추가:
#
#   INSERT INTO stores (
#     store_id, store_name, rtsp_host, rtsp_port,
#     active_channels, total_channels, is_active
#   ) VALUES (
#     'gangnam',                    -- store_id
#     '앤딩 강남점',                  -- store_name
#     '192.168.2.100',              -- rtsp_host (NVR IP)
#     8554,                         -- rtsp_port
#     ARRAY[1,2,3,4,5,6],           -- active_channels (사용할 채널)
#     16,                           -- total_channels
#     true                          -- is_active
#   );
#
# 지점 설정 변경:
#
#   UPDATE stores
#   SET active_channels = ARRAY[1,2,3,4], rtsp_host = '192.168.1.200'
#   WHERE store_id = 'oryudong';
#
# =============================================================================
